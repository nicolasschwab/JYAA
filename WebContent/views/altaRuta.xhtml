<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
<title>JRuteros</title>
	<ui:insert name="heads">
		<ui:include src="head.xhtml"/>
	</ui:insert>
</h:head>
<h:body>

<ui:insert name="menuAdmin">
		<ui:include src="menuViajero.xhtml"/>
	</ui:insert>
<div class="container">

	
			<div class="row">
				<div class="col-md-12">
					<div class="col-md-2">
						<h:form enctype="multipart/form-data" method="POST">
						<div class="form-group">
							<h:outputText class="puntos" value="#{rutaBean.puntos}"></h:outputText>
								<div class="row">
									<label>Subi fotos de la ruta!</label>
								</div>
								<ul class="columImg">
									<li>				
										<div class="imagen">
											<div class="cargarImagen">
												<h:inputFile id="file1" class="file" value="#{rutaBean.foto1}">	
													<f:ajax execute="file1" render="img1"></f:ajax>												
												</h:inputFile>
												<p:graphicImage id="img1" styleClass="imgRuta" value="#{rutaBean.ruta.showFoto1}"></p:graphicImage>
											</div>
										</div>
									</li>
									<li>
										<div class="imagen">
											<div class="cargarImagen">
												<h:inputFile id="file2" class="file" value="#{rutaBean.foto2}">
													<f:ajax execute="file2" render="img2"></f:ajax>														
												</h:inputFile>
												<p:graphicImage id="img2" styleClass="imgRuta" value="#{rutaBean.ruta.showFoto2}"></p:graphicImage>
											</div>
										</div>
									</li>
									<li>
										<div class="imagen">
											<div class="cargarImagen">
												<h:inputFile id="file3" class="file" value="#{rutaBean.foto3}">
													<f:ajax execute="file3" render="img3"></f:ajax>														
												</h:inputFile>
												<p:graphicImage id="img3" styleClass="imgRuta" value="#{rutaBean.ruta.showFoto3}"></p:graphicImage>
											</div>
										</div>
									</li>
								</ul>
											
						</div>
						</h:form>
					</div>
					<h:form enctype="multipart/form-data" method="POST">
						<div class="col-md-5">
							<fieldset class="fieldSetNuevaRuta">
								<legend>Informacion General</legend>
								<div class="row center ">
									<div class="form-group">
										<div class="row">
											<label for="nombre">Dele un nombre a su ruta!</label>
										</div>
										<div>
											<h:inputText id="prueba" value="#{rutaBean.ruta.nombre}"  class="buscarNombre" placeholder="nombre"></h:inputText>
										</div>	
									</div>
								</div>
								<div class="row center ">
									<div class="form-group">
										<div class="row">
											<label for="descripcion">Coment� un poco sobre su viaje</label>
										</div>
										<div>
											<h:inputTextarea id="descripcion" value="#{rutaBean.ruta.descripcion}"></h:inputTextarea>
										</div>	
									</div>
								</div>
							</fieldset>
							<fieldset class="fieldSetNuevaRuta">
								<legend>Fechas</legend>
								<div class="row  center">
									<div class="form-group ">
										<div class="row">
											<label>Tiempo estimado (hrs:mins)</label>
										</div>
										<div>
											<h:inputText value="#{rutaBean.ruta.tiempoEstimado}">
											</h:inputText>
										</div>							
									</div>
									<div class="form-group">
										<div class="row">
											<label>�Qu� d�a es el viaje?</label>
										</div>
										<div>
											<h:inputText class="fecha" value="#{rutaBean.ruta.fechaRealizacion}">
											    <f:convertDateTime pattern="MM/dd/yyyy" />
											</h:inputText>
										</div>						
										
									</div>
								</div>
							</fieldset>
						</div>
						<div class="col-md-5">
							<fieldset class="fieldSetNuevaRuta">
								<legend>Caracteristicas</legend>
								<div class="row center">
									<div class="form-group">
										<div>
											<label>Indic� Actividad</label>
										</div>
										<h:selectOneMenu class="segundaFila" value="#{rutaBean.actividad.nombre}">
											<c:forEach var="act" items="#{rutaBean.actividades}">
												<f:selectItem itemValue="#{act.nombre}" itemLabel="#{act.nombre}" />
											</c:forEach>
										</h:selectOneMenu>
									</div>
									<div class="form-group ">
										<div>
											<label>Indic� la dificultad</label>
										</div>
										<div>
											<h:selectOneMenu value="#{rutaBean.ruta.dificultad}">
												<f:selectItem itemValue="Facil" itemLabel="Facil"></f:selectItem>
												<f:selectItem itemValue="Moderado" itemLabel="Moderado"></f:selectItem>
												<f:selectItem itemValue="Dificil" itemLabel="Dificil"></f:selectItem>
												<f:selectItem itemValue="Muy Dificil" itemLabel="Muy Dificil"></f:selectItem>
												<f:selectItem itemValue="Solo expertos" itemLabel="Solo expertos"></f:selectItem>
											</h:selectOneMenu>
										</div>						
									</div>
									
									<div class="form-group ">
										<div>
											<label>�Quer�s una ruta privada?</label>
										</div>
										<div>
											<h:selectBooleanCheckbox value="#{rutaBean.ruta.privacidad}"></h:selectBooleanCheckbox>
										</div>			
									</div>
									<div class="form-group ">
										<div>
											<label>�Es un viaje de ida o circular?</label>
										</div>
										<div>
											<h:selectOneMenu value="#{rutaBean.ruta.formato}">
												<f:selectItem itemValue="ida" itemLabel="ida"></f:selectItem>
												<f:selectItem itemValue="circular" itemLabel="Circular"></f:selectItem>
											</h:selectOneMenu>
										</div>						
									</div>
								</div>
								<div class="row center">
									<div class="form-group ">
										<div class="row">
											<label>�C�antos km son?</label>
										</div>
										<div>
											<h:inputText value="#{rutaBean.ruta.distancia}"></h:inputText>
										</div>							
									</div>								
								</div>
							</fieldset>
							
								<h:inputText id="lat-long" class="lat-long" value="#{rutaBean.latLong}" >
									<f:ajax event="change" render="@none" execute="lat-long"></f:ajax>
								</h:inputText>
													
						</div>
						<div class="row">		
							<div class="col-md-12">
								<div id="map-canvas" style="height: 500px"></div>
							</div>
						</div>
						<c:choose>
						    <c:when test="#{rutaBean.modificar}">
						        <h:commandButton class="botonBuscar" action="#{rutaBean.doModificar}" value="Modificar" ajax="false" />
						    </c:when>    
						    <c:otherwise>
						        <h:commandButton class="botonBuscar" action="#{rutaBean.crear}" value="Crear!" ajax="false" />
						    </c:otherwise>
						</c:choose>
								
						</h:form>
			</div>
			
			<input type="button" id="borrarMarcadores" value="Borrar todos los puntos" />								
				</div>				
	</div>
	
	<ui:insert name="footer">
		<ui:include src="footer.xhtml"/>
	</ui:insert>
	<script type="text/javascript">
		$(function() {
			$('.fecha').datepicker();
		});
	</script>
</h:body>
</html>