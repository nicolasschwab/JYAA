<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
<title>JRuteros</title>
	<ui:insert name="heads">
		<ui:include src="head.xhtml"/>
	</ui:insert>
</h:head>
<h:body onload="genericInitialiaze()">

<ui:insert name="menuViajero">
		<ui:include src="menuViajero.xhtml"/>
	</ui:insert>

<div class="container">
			<div class="row">
				<div class="col-md-12">
					<div class="col-md-2">
						<div class="form-group">
						<h:outputText class="puntos" value="#{rutaBean.puntos}"></h:outputText>
							<div clas="row">
								<label>Estas son las fotos de la ruta!</label>
							</div>
							<ul class="columImg">
									<li>				
										<div class="imagen">
											<div class="cargarImagen">
												<p:graphicImage id="img1" styleClass="imgRuta" value="#{rutaBean.ruta.showFoto1}"></p:graphicImage>
											</div>
										</div>
									</li>
									<li>
										<div class="imagen">
											<div class="cargarImagen">
												<p:graphicImage id="img2" styleClass="imgRuta" value="#{rutaBean.ruta.showFoto2}"></p:graphicImage>
											</div>
										</div>
									</li>
									<li>
										<div class="imagen">
											<div class="cargarImagen">
												<p:graphicImage id="img3" styleClass="imgRuta" value="#{rutaBean.ruta.showFoto3}"></p:graphicImage>
											</div>
										</div>
									</li>
								</ul>				
						</div>
					</div>
					<div class="col-md-5">
						<fieldset class="fieldSetNuevaRuta">
							<legend>Informacion General</legend>
							<div class="row center ">
								<div class="form-group">
									<div class="row">
										<label for="nombre">Nombre de la ruta!</label>
									</div>
									<div>
										<span><h:outputText value="#{rutaBean.ruta.nombre}"></h:outputText></span>
									</div>	
								</div>
							</div>
							<div class="row center ">
								<div class="form-group">
									<div class="row">
										<label for="descripcion">Descripcion del viaje</label>
									</div>
									<div>
										<span><h:outputText value="#{rutaBean.ruta.descripcion}"></h:outputText></span>
									</div>	
								</div>
							</div>
						</fieldset>
						<fieldset class="fieldSetNuevaRuta">
							<legend>Fechas</legend>
							<div class="row  center">
								<div class="form-group ">
									<div class="row">
										<label>Tiempo estimado de duracion del viaje</label>
									</div>
									<div>
										<span><h:outputText value="#{rutaBean.ruta.tiempoEstimado}"></h:outputText></span>
									</div>							
								</div>
								<div class="form-group">
									<div class="row">
										<label>Fecha de realizacion del viaje</label>
									</div>
									<div>
										<span><h:outputText value="#{rutaBean.ruta.fechaRealizacion}">
											<f:convertDateTime pattern="MM/dd/yyyy" />
										</h:outputText></span>
									</div>						
									
								</div>
							</div>
						</fieldset>
					</div>
					<div class="col-md-5">
						<fieldset class="fieldSetNuevaRuta">
							<legend>Caracteristicas</legend>
							<div class="row center">
								<div class="form-group">
									<div>
										<label>Actividad</label>
									</div>
									<div>
										<span><h:outputText value="#{rutaBean.ruta.actividad.nombre}"></h:outputText></span>
									</div>
								</div>
								<div class="form-group ">
									<div>
										<label>Dificultad</label>
									</div>
									<div>
										<span><h:outputText value="#{rutaBean.ruta.dificultad}"></h:outputText></span>
									</div>						
								</div>
								<div class="form-group">
									<div>
										<label>Tipo de viaje</label>
									</div>
									<div>										
										<span><h:outputText value="#{rutaBean.ruta.formato}"></h:outputText></span>
									</div>						
								</div>
							</div>
							<div class="row center">
								<div class="form-group ">
									<div class="row">
										<label>Cantidad de km</label>
									</div>
									<div>
										<span><h:outputText value="#{rutaBean.ruta.distancia}"></h:outputText></span>
									</div>							
								</div>								
							</div>
						</fieldset>
						<fieldset class="fieldSetNuevaRuta">
							<legend>Calificalo!</legend>
							<c:choose>
								<c:when test="#{rutaBean.yaCalifico()}">
									<div class="col-md-6 ">
										<label>Ya Calificaste esta ruta!</label>
										<br></br>
										<label>La calificacion actual es:
										<h:outputText value="#{rutaBean.ruta.calificacion}"></h:outputText></label>
									</div>
								</c:when>
								<c:otherwise>
									<h:form>
										<div class="col-md-6 ">
											<label>Â¿Hiciste esta ruta?</label>
											<br></br>
											<label>Calificala!</label>
											
										</div>
										<div class="col-md-6 calificacion">
											<p:rating value="#{rutaBean.calificacion}"></p:rating>
											<h:commandButton class="btn btn-warning" action="#{rutaBean.calificar()}" value="Enviar" />
										</div>
									</h:form>
								</c:otherwise>
							</c:choose>
							
						</fieldset>
					</div>								
				</div>
			</div>
			<div class="row">		
				<div class="col-md-12">
					<div id="map-canvas" style="height: 500px"></div>
				</div>
			</div>
	</div>
	
	<ui:insert name="footer">
		<ui:include src="footer.xhtml"/>
	</ui:insert>
</h:body>
</html>